include /atoms/anchor/index

-function prettyDate(dateString){
    //if it's already a date object and not a string you don't need this line:
    -var date = new Date(dateString);
    -var d = date.getDate();
    -var monthNames = [ "Jan", "Feb", "Mar", "Apr", "May", "Jun","Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ];
    -var m = monthNames[date.getMonth()];
    -var y = date.getFullYear();
    -return d+' '+m+' '+y;
-}


mixin post-list(slice)
  .post-list.o-main__content.m-16.z-index-1
    block
    - var posts=slice ? collections.posts.slice().reverse().slice(0, slice) : collections.posts.slice().reverse()

    each post in posts
      div
        - var url=filters.url(post.url)
        .post-list__item
          +anchor(href=url class="big")()=post.data.title
          span=` - ${prettyDate(post.data.date)}`

          .post-list__item-tag
            each tag in post.data.tags
              if tag != 'posts'
                +anchor(href='#' class="tag")
                  ='#' + tag
